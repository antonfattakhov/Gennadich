class DynamicAdapt{constructor(e){this.type=e}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach(e=>{const t=e.dataset.da.trim().split(","),o={};o.element=e,o.parent=e.parentNode,o.destination=document.querySelector(`${t[0].trim()}`),o.breakpoint=t[1]?t[1].trim():"767",o.place=t[2]?t[2].trim():"last",o.index=this.indexInParent(o.parent,o.element),this.оbjects.push(o)}),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map(({breakpoint:e})=>`(${this.type}-width: ${e}px),${e}`).filter((e,t,o)=>o.indexOf(e)===t),this.mediaQueries.forEach(e=>{const t=e.split(","),o=window.matchMedia(t[0]),n=t[1],i=this.оbjects.filter(({breakpoint:e})=>e===n);o.addEventListener("change",()=>{this.mediaHandler(o,i)}),this.mediaHandler(o,i)})}mediaHandler(e,t){e.matches?t.forEach(e=>{e.index=this.indexInParent(e.parent,e.element),this.moveTo(e.place,e.element,e.destination)}):t.forEach(({parent:e,element:t,index:o})=>{t.classList.contains(this.daClassname)&&this.moveBack(e,t,o)})}moveTo(e,t,o){t.classList.add(this.daClassname),"last"===e||e>=o.children.length?o.append(t):"first"!==e?o.children[e].before(t):o.prepend(t)}moveBack(e,t,o){t.classList.remove(this.daClassname),void 0!==e.children[o]?e.children[o].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){"min"===this.type?e.sort((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint):e.sort((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint)}}const da=new DynamicAdapt("max");da.init();let header=document.querySelector(".header");!function(){const e=document.querySelector(".burger-js"),t=document.querySelector(".header__menu");document.querySelectorAll(".nav__link");e.addEventListener("click",function(){t.classList.toggle("header__menu_active"),e.classList.toggle("header__burger_active"),e.classList.contains("header__burger_active")?hideScroll():showScroll()})}(),function(){let e,t,o;const n=document.querySelectorAll(".nav__link"),i=document.querySelector(".header__inner-list");function c(n){e=n.clientX,t=n.clientY,console.log("курсор"+e,"право"+o.right,"лево"+o.left),console.log("курсор"+t,"верх"+o.top,"низ"+o.bottom),o.top-2>t||o.left-2>e||o.right<e?(s(),console.log("вышел за рамки")):o.bottom<t&&(document.removeEventListener("mousemove",c),console.log("ремув маусмув"))}function s(){i.classList.remove("header__inner-list-active"),i.removeEventListener("mouseleave",s),document.removeEventListener("mousemove",c),console.log("ремув оооол")}n.forEach((e,t,n)=>{e.addEventListener("mouseover",function(){!function(e){1!=i.classList.contains("header__inner-list-active")&&(i.classList.add("header__inner-list-active"),console.log("вывод на экран иннер-лист"),i.addEventListener("mouseleave",s),o=e.getBoundingClientRect(),console.dir(o),document.addEventListener("mousemove",c))}(e)})})}(),function(){const e=document.querySelector(".header__inner-list"),t=window.matchMedia("(max-height: 600px)");!0===t.matches&&(e.style.height=`${2*window.innerHeight/3}px`),t.addEventListener("change",()=>{t.matches?e.style.height=`${2*window.innerHeight/3}px`:e.style.height="auto"})}();const videoLinkLatinos=document.querySelector(".column-list__link_latinos-js"),videoLinkSportmaster=document.querySelector(".column-list__link_sportmaster-js"),videoLinkGuys=document.querySelector(".column-list__link_guys-js"),videoLinkWay=document.querySelector(".column-list__link_way-js"),videoLinkPhotos=document.querySelector(".column-list__link_photos-js");videoLinkLatinos.onclick=function(){localStorage.setItem("a","latinos")},videoLinkSportmaster.onclick=function(){localStorage.setItem("a","sportmaster")},videoLinkGuys.onclick=function(){localStorage.setItem("a","guys")},videoLinkWay.onclick=function(){localStorage.setItem("a","way")},videoLinkPhotos.onclick=function(){localStorage.setItem("a","photos")};const login=document.querySelector(".site-options__item_registr"),formLogin=document.querySelector(".login"),form=document.querySelector(".login__wrapper");function hideScroll(){const e=window.innerWidth-document.documentElement.clientWidth;header.style.paddingRight=`${e}px`,document.body.style.paddingRight=`${e}px`,document.body.style.overflowY="hidden",document.body.addEventListener("touchmove",hideforIOS,{passive:!1}),window.addEventListener("keydown",pressEsc)}function hideforIOS(e){e.preventDefault()}function showScroll(e){header.style.paddingRight="",document.body.style.paddingRight="",document.body.style.overflowY="visible",document.body.removeEventListener("touchmove",hideforIOS),window.removeEventListener("keydown",pressEsc)}function pressEsc(e){27==e.keyCode&&(formLogin.classList.remove("login_active"),showScroll())}form.onclick=function(e){e.stopPropagation()},login.addEventListener("click",()=>{formLogin.classList.add("login_active"),hideScroll(),formLogin.addEventListener("click",()=>{formLogin.classList.remove("login_active"),showScroll()})}),function(){let e=/^[a-zA-Z0-9]+$/;document.querySelector(".form__button").addEventListener("click",function(t){let o=document.querySelector("#user-name"),n=document.querySelector("#user-password"),i=document.querySelector(".form");t.preventDefault();const c=o.value,s=n.value;console.log(c,s),async function(e,t){console.log(e,t),e&&t?(document.querySelector(".login__sending").style.display="block",console.log("Данные отправляются"),await new Promise(e=>setTimeout(e,3e3)),document.querySelector(".login__sending").style.display="none",formLogin.classList.remove("login_active"),showScroll(),i.reset(),o.style.backgroundColor="white",n.style.backgroundColor="white"):console.log("Что-то не верно")}(function(e,t){return!!e.test(t)||(o.style.backgroundColor="rgba(236, 53, 53, 0.4)",o.value="",o.placeholder="Используй цифры или латиницу",!1)}(e,c),function(e,t){return!!e.test(t)||(n.style.backgroundColor="rgba(236, 53, 53, 0.4)",n.placeholder="Используй цифры или латиницу",!1)}(e,s))})}(),function(){const e=document.querySelector(".site-options__item_search .site-options__button"),t=document.querySelector(".site-options__input");let o,n,i=0,c=new RegExp(o,"i"),s=0,r=[];function l(){const e=document.querySelectorAll("main h2, main h3, main h4, main p, main figcaption");let i,l,a=document.querySelector(".search-popup_close"),d=document.querySelector(".search-popup_choose"),u=0;if(""==t.value)return!1;function m(){0===u?(d.classList.add("search-popup_active"),scrollTo(r[u]),u+=1):u>0&&u<r.length?(scrollTo(r[u]),u+=1):(u=0,p())}function p(){s!=n?(l.removeEventListener("click",m),d.classList.remove("search-popup_active"),u=0):a.classList.remove("search-popup_active"),i.removeEventListener("click",p),r.splice(0,r.length),s=0,n=0,t.value=""}o=t.value,c=new RegExp(o,"i"),n=s,e.forEach(function(e,t,o){-1!=e.innerHTML.search(c)&&"yes"!=e.dataset.hide&&(r.push(e),s+=1)}),s==n?(a.classList.add("search-popup_active"),(i=a.querySelector(".search-popup__button_close")).addEventListener("click",p)):(i=d.querySelector(".search-popup__button_close"),l=d.querySelector(".search-popup__button_goahead"),i.addEventListener("click",p),l.addEventListener("click",m),m())}e.addEventListener("click",()=>{function e(e){13==e.keyCode&&l()}t.classList.add("site-options__input_active"),t.addEventListener("focus",()=>{window.addEventListener("keydown",e)}),(i+=1)>1&&l()})}();const smoothScroll=function(e,t){let o,n=(o="object"==typeof e?e:document.getElementById(e)).getBoundingClientRect().top-document.querySelector(".header").clientHeight-12,i=window.pageYOffset,c=null;const s=function(e){null===c&&(c=e);const o=e-c,r=(l=o,a=i,d=n,(l/=t/2)<1?d/2*l*l+a:-d/2*(--l*(l-2)-1)+a);var l,a,d;window.scrollTo(0,r),o<t&&requestAnimationFrame(s)};requestAnimationFrame(s)},scrollTo=function(e){smoothScroll(e,1e3)};